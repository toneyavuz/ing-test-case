<ing-employee-list-header [view]="'list'" (viewChange)="onViewChange($event)" class="block mb-5"></ing-employee-list-header>

<div class="px-4 overflow-auto">
  @if (vm$().loading) {
    <div class="p-6 text-sm text-neutral-500">Yükleniyor…</div>
  } @else {
    <table mat-table [dataSource]="vm$().items" class="w-full mat-elevation-z0 table-fixed"
           aria-label="Employees table">
      <ng-container matColumnDef="id">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col">Id</th>
        <td mat-cell *matCellDef="let row" class="truncate">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col">First Name</th>
        <td mat-cell *matCellDef="let row" class="truncate">{{ row.firstName }}</td>
      </ng-container>

      <ng-container matColumnDef="lastName">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col"> Last Name</th>
        <td mat-cell *matCellDef="let row" class="truncate"> {{ row.lastName }}</td>
      </ng-container>

      <ng-container matColumnDef="dateOfEmployment">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col"> Date of Employment</th>
        <td mat-cell *matCellDef="let row"> {{ row.dateOfEmployment | date:'dd/MM/yyyy' }}</td>
      </ng-container>

      <ng-container matColumnDef="dateOfBirth">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col"> Date of Birth</th>
        <td mat-cell *matCellDef="let row"> {{ row.dateOfBirth | date:'dd/MM/yyyy' }}</td>
      </ng-container>

      <ng-container matColumnDef="phone">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col"> Phone</th>
        <td mat-cell *matCellDef="let row" class="truncate"> {{ row.phone }}</td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col"> Email</th>
        <td mat-cell *matCellDef="let row" class="truncate"> {{ row.email }}</td>
      </ng-container>

      <ng-container matColumnDef="department">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col"> Department</th>
        <td mat-cell *matCellDef="let row" class="truncate"> {{ row.department }}</td>
      </ng-container>

      <ng-container matColumnDef="position">
        <th class="text-ing-500" mat-header-cell *matHeaderCellDef scope="col"> Position</th>
        <td mat-cell *matCellDef="let row" class="truncate"> {{ row.position }}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th class="text-ing-500 w-[96px]" mat-header-cell *matHeaderCellDef scope="col"> Actions</th>
        <td mat-cell *matCellDef="let row" class="w-[96px]">
          <div class="flex items-center gap-1">
            <button class="text-ing-500" type="button" (click)="edit(row)" matTooltip="Edit"
                    aria-label="Edit">
              <mat-icon class="text-base">edit</mat-icon>
            </button>
            <button class="text-ing-500" type="button" (click)="delete(row)" matTooltip="Delete"
                    aria-label="Delete">
              <mat-icon class="text-base">delete</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="h-12"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns" class="h-12"></tr>
    </table>

    <div class="px-0 pt-3 pb-4">
      <ing-employee-list-pagination
        [length]="vm$().total"
        [pageSize]="vm$().pageSize"
        [pageIndex]="vm$().pageIndex"
        (page)="onPage($event)">
      </ing-employee-list-pagination>
    </div>
  }
</div>
